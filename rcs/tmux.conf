set -g prefix C-Space
unbind C-b
bind C-Space send-prefix

set -g mouse on

# Show prefix active state by flipping status bar background
set -g status-style "#{?client_prefix,bg=colour24 fg=colour255,bg=default fg=default}"

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'alexwforsythe/tmux-which-key'

# Scroll 3 lines at a time with mouse wheel
bind -T copy-mode    WheelUpPane   select-pane \; send-keys -X -N 3 scroll-up
bind -T copy-mode    WheelDownPane select-pane \; send-keys -X -N 3 scroll-down
bind -T copy-mode-vi WheelUpPane   select-pane \; send-keys -X -N 3 scroll-up
bind -T copy-mode-vi WheelDownPane select-pane \; send-keys -X -N 3 scroll-down

# Copy selection to system clipboard on mouse release
bind -T copy-mode    MouseDragEnd1Pane send-keys -X copy-pipe "pbcopy"
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe "pbcopy"

# Initialize TPM (keep this line at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
