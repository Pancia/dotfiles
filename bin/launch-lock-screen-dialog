#!/bin/bash
# Launch the lock-screen-dialog in a centered Ghostty window

# Launch Ghostty with the lock-screen-dialog command (80 cols x 24 rows)
open -na Ghostty.app --args --window-width=80 --window-height=24 -e ~/dotfiles/bin/lock-screen-dialog

# Wait a moment for the window to appear
sleep 0.3

# Position the window in the center and activate it
osascript <<EOF
tell application "Finder"
    set screenBounds to bounds of window of desktop
    set screenWidth to item 3 of screenBounds
    set screenHeight to item 4 of screenBounds
end tell
tell application "System Events"
    tell process "Ghostty"
        set frontmost to true
        tell front window
            set windowSize to size
            set windowWidth to item 1 of windowSize
            set windowHeight to item 2 of windowSize
            set x1 to (screenWidth - windowWidth) / 2
            set y1 to ((screenHeight - windowHeight) / 4)
            set position to {x1, y1}
        end tell
    end tell
end tell
tell application "Ghostty"
    activate
end tell
EOF
