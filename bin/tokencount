#!/usr/bin/env python3.11

import tiktoken
import sys

if __name__ == "__main__":
    if len(sys.argv) < 2:
        print("Usage: tokencount <file_path>")
        sys.exit(1)

    with open(sys.argv[1], 'r', encoding='utf-8') as f:
        text = f.read()

    encoding = tiktoken.get_encoding("cl100k_base")
    print(f"{len(encoding.encode(text)):,}")
